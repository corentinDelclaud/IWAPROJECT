{"openapi":"3.0.1","info":{"title":"Transaction API","description":"API pour la gestion des transactions","version":"1.0"},"servers":[{"url":"http://localhost:8084","description":"Generated server url"}],"tags":[{"name":"Transaction","description":"Gestion des transactions"}],"paths":{"/transaction/{id}/state":{"put":{"tags":["Transaction"],"summary":"Mettre à jour l'état d'une transaction","operationId":"updateState","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}},"/transaction":{"post":{"tags":["Transaction"],"summary":"Créer une nouvelle transaction","operationId":"createTransaction","parameters":[{"name":"X-User-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}},"/transaction/{id}":{"get":{"tags":["Transaction"],"summary":"Récupérer une transaction par ID","operationId":"getTransaction","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}}},"components":{"schemas":{"UpdateStateRequest":{"required":["newState"],"type":"object","properties":{"newState":{"type":"string","enum":["EXCHANGING","REQUESTED","REQUEST_ACCEPTED","PREPAID","CLIENT_CONFIRMED","PROVIDER_CONFIRMED","DOUBLE_CONFIRMED","FINISHED_AND_PAYED","CANCELED"]}}},"TransactionResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"state":{"type":"string","enum":["EXCHANGING","REQUESTED","REQUEST_ACCEPTED","PREPAID","CLIENT_CONFIRMED","PROVIDER_CONFIRMED","DOUBLE_CONFIRMED","FINISHED_AND_PAYED","CANCELED"]},"serviceId":{"type":"integer","format":"int32"},"idClient":{"type":"string"},"idProvider":{"type":"string"}}},"CreateTransactionRequest":{"required":["directRequest","serviceId"],"type":"object","properties":{"serviceId":{"type":"integer","format":"int32"},"directRequest":{"type":"boolean"}}}}}}